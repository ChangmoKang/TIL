# HTTPS(Hypertext Transfer Protocol Secure)

http대신 https를 사용하는 이유

1. 내가 사이트에 보내는 정보를 제 3자가 못 보게 하기 위해
2. 접속한 사이트가 신뢰할 수 있는 곳인지를 알기 위해



위의 두 가지를 구현하기 위해 **대칭키 방식** 또는 **비대칭키(공개키) 방식**을 사용함



## 대칭키 방식

### 클라이언트와 서버만 알고있는 키



클라이언트는 대칭키를 이용하여 자신의 정보를 암호화 하여 서버로 보내고 서버도 대칭키를 이용하여 데이터를 암호화하여 클라이언트에게 보낸다.



중간에 제 3자가 가로채도 대칭키를 가지고 있지 않으면 정보를 볼 수 없다.

서버에서 대칭키를 이용하여 데이터를 암호화하여 전송하기 때문에 대칭키로 올바르게 복호화 된다면 접속한 사이트가 신뢰할 수 있는 곳인지 알 수 있다.



하지만, 대칭키를 서로가 갖기 위해 최소 한 번 키를 주고 받아야 하는데 암호화 되지 않은 방식으로 주고 받을 경우 보안에 문제가 발생한다.



## 비대칭키(공개키) 방식

### 클라이언트는 공개키를, 서버는 개인키를 가지는 방식



공개키로 암호화 된 데이터는 개인키로만 복호화가 가능하고 그 반대로 개인키로 암호화 된 것은 공개키로만 복호화 가능하다.



1. 클라이언트와 서버가 처음 통신할 때 클라이언트 측에서 랜덤 데이터를 서버로 보낸다
2. 서버 측에서 랜덤 데이터와 암호화된 인증서를 함께 보낸다
3. 인증서는 CA(Certificate authority)의 개인키로 암호화 되어있어 CA의 공개키로 인증서를 복호화 한다.
4. 복호화 한 인증서에는 서버의 공개키가 들어있다.
5. 인증된 서버의 공개키를 이용하여 서버와 대칭키를 생성한다.
6. 이후 대칭키를 이용하여 서버와 통신한다.



##### Reference

[얄팍한 코딩사전 - HTTPS가 뭐고 왜 쓰나요? (Feat. 대칭키 vs. 비대칭키)](https://www.youtube.com/watch?v=H6lpFRpyl14)